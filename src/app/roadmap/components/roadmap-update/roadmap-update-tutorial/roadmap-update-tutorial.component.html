<form [formGroup]="tutorialForm">
  <mat-form-field appearance="outline">
    <mat-label>Title</mat-label>
    <input #title matInput formControlName="title" />
    <mat-error *ngIf="tutorialForm.controls.title.invalid"
      >Title required</mat-error
    >
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Instructor</mat-label>
    <input #instructor matInput formControlName="instructor" />
    <mat-error *ngIf="tutorialForm.controls.instructor.invalid"
      >Instructor required</mat-error
    >
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Start date</mat-label>
    <input matInput [matDatepicker]="startDate" formControlName="startDate" />
    <mat-hint>MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
    <mat-datepicker #startDate></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>End date</mat-label>
    <input matInput [matDatepicker]="endDate" formControlName="endDate" />
    <mat-hint>MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
    <mat-datepicker #endDate></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width-grid-item">
    <mat-label>Description</mat-label>
    <textarea #description matInput formControlName="description"></textarea>
    <mat-error *ngIf="tutorialForm.controls.description.invalid"
      >Description required</mat-error
    >
  </mat-form-field>

  <app-stack-selector
    #stack
    [data]="data && data.stack"
    class="full-width-grid-item"
  >
  </app-stack-selector>

  <mat-form-field class="full-width-grid-item" appearance="outline">
    <mat-label>Topics</mat-label>
    <mat-chip-list
      #topicsGrid
      aria-label="Enter topics"
      formControlName="topics"
    >
      <mat-chip
        #topics
        *ngFor="let topic of topicsArray.value"
        (removed)="removeTopic(topic)"
      >
        {{ topic }}
        <button matChipRemove>
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip>
      <input
        placeholder="New topic..."
        [matChipInputFor]="topicsGrid"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
        [matChipInputAddOnBlur]="addOnBlur"
        (matChipInputTokenEnd)="addTopic($event)"
      />
      <!-- <mat-error *ngIf="tutorialForm.controls.topics.invalid"
        >At least one topic is required</mat-error
      > -->
    </mat-chip-list>
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width-grid-item">
    <mat-label>Provider</mat-label>
    <input #provider matInput formControlName="provider" />
    <mat-error *ngIf="tutorialForm.controls.provider.invalid"
      >Provider required</mat-error
    >
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Github</mat-label>
    <input #github matInput formControlName="github" />
    <mat-error *ngIf="tutorialForm.controls.github.invalid"
      >Github required</mat-error
    >
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Link</mat-label>
    <input #link matInput formControlName="link" />
    <mat-error *ngIf="tutorialForm.controls.link.invalid"
      >Link is required to verify course</mat-error
    >
  </mat-form-field>
</form>
